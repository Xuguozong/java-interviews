一、导入流程

```
1. 数据校验
	- 必填字段校验
	- 查询数据库校验有效性
		- CRM 校验，HTTP与第三方（销售易）交互
		- 其他模块交互（人员管理、合同管理、客户管理(发薪主体)等）
		
2. 更新历史数据
	- 新导入的数据会触发历史数据变更
		- 当月发薪次数
		- 当月发薪次数状态（用于区分是否是当月最后一次发薪-用于计税）

3. 查询关联历史数据并进行相应薪资计算
	
```



二、优化之前的做法

```
以单条导入数据为基本单位来进行校验、查询、更新操作，效果很差，耗时很长
耗时分析（以单条数据维度）：
	1.数据校验阶段查询次数
		sql：发薪主体查询(一次)+薪税服务配置查询(2次)+合同查询(1次)
		http：
```



三、优化之后的做法

